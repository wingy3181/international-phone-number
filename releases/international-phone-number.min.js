/*! international-phone-number 2015-09-18 */
(function(){"use strict";angular.module("internationalPhoneNumber",[]).constant("ipnConfig",{allowExtensions:!1,autoFormat:!0,autoHideDialCode:!0,autoPlaceholder:!0,customPlaceholder:null,defaultCountry:"",geoIpLookup:null,nationalMode:!0,numberType:"MOBILE",onlyCountries:void 0,preferredCountries:["us","gb"],utilsScript:""}).directive("internationalPhoneNumber",["$timeout","ipnConfig",function(a,b){return{restrict:"A",require:"^ngModel",scope:{ngModel:"="},link:function(c,d,e,f){var g,h,i,j,k,l;return f&&""!==d.val()&&a(function(){return d.intlTelInput("setNumber",d.val()),f.$setViewValue(d.val())},0),k=function(){return f.$setViewValue(d.val())},g=function(a){return a instanceof Array?a:a.toString().replace(/[ ]/g,"").split(",")},i=function(a){return h(a)?!0:d.intlTelInput("isValidNumber")},h=function(a){var b;return b=d.intlTelInput("getSelectedCountryData"),!a||b&&b.dialCode===a},j=angular.copy(b),angular.forEach(j,function(a,b){var c;if(e.hasOwnProperty(b)&&angular.isDefined(e[b]))return c=e[b],"preferredCountries"===b?j.preferredCountries=g(c):"onlyCountries"===b?j.onlyCountries=g(c):"boolean"==typeof a?j[b]="true"===c:j[b]=c}),l=c.$watch("ngModel",function(a){return c.$$postDigest(function(){return null!==a&&void 0!==a&&a.length>0&&("+"!==a[0]&&(a="+"+a),d.val(a)),d.intlTelInput(j),void 0!==e.skipUtilScriptDownload||j.utilsScript||d.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),l()})}),f.$formatters.push(function(a){return a?(d.intlTelInput("setNumber",a),d.val()):a}),f.$parsers.push(function(a){return a?f.$validators?a.replace(/[^\d]/g,""):i(a)?(f.$setValidity("internationalPhoneNumber",!0),h(a)?"":a.replace(/[^\d]/g,"")):void f.$setValidity("internationalPhoneNumber",!1):a}),f.$validators&&(f.$validators.internationalPhoneNumber=i),d.on("blur keyup change",function(a){return c.$apply(k)}),d.on("$destroy",function(){return d.intlTelInput("destroy"),d.off("blur keyup change")})}}}])}).call(this);